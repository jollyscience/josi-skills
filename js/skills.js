// Generated by CoffeeScript 1.6.3
(function(){var e;e=require("underscore");module.exports=function(t){var n=this;t.skills=t.skills||{};t.brain.on("memories-loaded",function(e){return t.logger.info("Skills Ready to Load!")});t.respond(/(show skills|what can you do)/i,function(e){var n,r,i,s,o;try{if(t.skills){s=t.skills;e.send("Well, I know...");i=[];for(r in s){o=s[r];i.push(r)}return e.send(i.join(", "))}return e.send("robot.skills not loaded.")}catch(u){n=u;n.locale=__dirname;e.chatty(t.chatty.oops(e.message.text));throw n}});t.respond(/skill (.+) (of|on|about|in|for|with) (.+)$/i,function(e){var t,n,r;try{n=e.match[1];r=e.match[3];e.chatty("Okay. I'll try to find the skills to do "+n+" "+e.match[2]+" "+r+"...");return e.process(n,r).done(function(t){return e.emote(":)")}).fail(function(t){return e.send(t.why||'"'+t.text+'", really?')})}catch(i){t=i;t.locale=__dirname;e.chatty("Trying to run "+e.message.text);throw t}});t.respond(/(let's go )?again$/i,function(n){var r,i,s;try{if(t.brain.tasks){s=t.brain.tasks.list();i=e.keys(s);return n.send}}catch(o){r=o;r.locale=__dirname;n.chatty(t.chatty.oops(n.message.text));throw r}});return t.respond(/know any (good )?(.+)/i,function(n){var r,i,s,o;i=n.match[2].replace("?","");try{if(!t.brain.get(i))throw new Error('Could not find the skill "'+i+'"');if(o=e.keys(t.brain.get(i))){s=n.random(o);return n.process(i,s).done(function(e){return n.send("That was fun!")}).fail(function(e){return n.send(e.why||'"'+e.text+'", really?')})}return n.send("Well, I know how to do "+i+", but I don't know anything about "+s+".")}catch(u){r=u;r.locale=__dirname;n.chatty(t.chatty.oops(n.message.text));throw r}})}}).call(this);